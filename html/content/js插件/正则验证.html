<!DOCTYPE html>
<html>
<head>
    <meta content="测试demo" name="Keywords">
    <meta content="测试demo" name="Description">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=320,initial-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <title>测试demo</title>
    <script src="../../js/jquery-1.8.3.min.js" type="text/javascript"></script>
</head>
<body>
    <input id="type" placeholder="类型" />
    <input id="name" placeholder="名称" />
    <input id="message" placeholder="验证错误提示" />
    <input id="content" placeholder="内容" />
    <button id="button">按钮</button>
    <script>
        (function () {
            window.kj = {} || null;
            kj.Verification = function Verification(parameter) {
                var k = { 't': parameter, 'e': { 'm': '成功', 'd': 1 }, 'j': { '手机号码': /^1[3|4|5|8][0-9]\d{4,8}$/, '非负数': /^(([1-9]+[0-9]*.{1}[0-9]+)|([0].{1}[1-9]+[0-9]*)|([1-9][0-9]*)|([0][.][0-9]+[1-9]*))$/, '非负整数': /^(0|[1-9]\d*)$/, '邮箱': /^[\\w-]+(\\.[\\w-]+)*@[\\w-]+(\\.[\\w-]+)+$/ } } || null;
                k.ms = function Main() {
                    if (k.t.type == '') 
                        return k.b("请输入验证的类型", -1);
                    if (k.j[k.t.type] === undefined) 
                        return k.b("请输入正确的验证类型", -2);
                }
                k.ms.prototype.r = function regular(name, message, content) {
                    if (content === '') 
                        return k.b(name + "不能为空", 0);
                    if (!(eval(k.j[k.t.type]).test(content))) 
                        return k.b(message, 0);
                    return 'ok';
                }
                k.b = function back(m1, m2) {
                    k.e.m = m1;
                    k.e.d = m2;
                    return k.e;
                }
                k.m = new k.ms();
                if (typeof (k.m.r) === "function") {
                    if (k.t.name === "") 
                        return k.b("请输入类别名称", -3);
                    if (k.t.message === "") 
                        return k.b("请输入报错提示", -4);
                    return k.m.r(k.t.name, k.t.message, k.t.content);
                } else {
                    return k.m;
                }
            }
        })();


        $("#button").click(function () {
            console.time('计时器1');
            var i = kj.Verification({ type: $("#type").val(), name: $("#name").val(), message: $("#message").val(), content: $("#content").val() });
            console.log(i);
            console.timeEnd('计时器1');
        })
    </script>
</body>
</html>